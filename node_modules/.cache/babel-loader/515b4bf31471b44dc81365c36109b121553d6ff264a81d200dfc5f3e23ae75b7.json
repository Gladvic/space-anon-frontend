{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victoria\\\\Desktop\\\\space-anon\\\\space-anon-frontend\\\\src\\\\Feed.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { supabase } from \"./supabaseClient\";\nimport \"./Feed.css\";\nimport { FaHeart, FaTrash, FaHome, FaUser, FaMoon, FaSearch,\n//FaRegBookmark,\n//FaBookmark, // <-- Add this import\nFaBell } from \"react-icons/fa\";\nimport axios from \"axios\";\n\n// Generate or get user ID\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction getUserId() {\n  let userId = localStorage.getItem(\"spaceanon_user_id\");\n  if (!userId) {\n    userId = Math.random().toString(36).substr(2, 12) + Date.now();\n    localStorage.setItem(\"spaceanon_user_id\", userId);\n  }\n  return userId;\n}\nconst Feed = ({\n  posts = [],\n  setPosts = () => {},\n  page = \"home\",\n  setPage = () => {},\n  bookmarkedPosts = [],\n  setBookmarkedPosts = () => {}\n}) => {\n  _s();\n  const [newPost, setNewPost] = useState({\n    title: \"\",\n    content: \"\",\n    tags: \"\"\n  });\n  const [error, setError] = useState(\"\");\n  const [showAddPostModal, setShowAddPostModal] = useState(false);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [searchTag, setSearchTag] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchLoading, setSearchLoading] = useState(false);\n  const userId = getUserId();\n\n  // Add state for expanded posts\n  const [expandedPosts, setExpandedPosts] = useState({});\n  // Add missing state for delete modal and related results\n  const [showDeleteWarning, setShowDeleteWarning] = useState(false);\n  const [deleteId, setDeleteId] = useState(null);\n  // State for comments\n  const [comments, setComments] = useState({}); // postId -> nested array of comments\n  const [newComment, setNewComment] = useState({}); // postId or commentId -> comment content\n  const [showComments, setShowComments] = useState({}); // postId -> boolean\n  const [replyBox, setReplyBox] = useState({}); // commentId -> boolean\n  // Add state for comment pagination\n  // const [commentPagination, setCommentPagination] = useState({}); // postId -> {limit, offset, hasMore}\n  const [notifications, setNotifications] = useState([]);\n  const [showNotifications, setShowNotifications] = useState(false);\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    const fetchPosts = async () => {\n      try {\n        let url;\n        if (page === \"dashboard\") {\n          url = `https://space-anon-backend.onrender.com/api/myposts/${userId}`;\n        } else {\n          url = \"https://space-anon-backend.onrender.com/api/posts\";\n        }\n        const response = await fetch(url);\n        if (!response.ok) throw new Error(\"Network response was not ok\");\n        const data = await response.json();\n        setPosts(data || []);\n      } catch (err) {\n        setPosts([]);\n        console.error(\"Failed to fetch posts:\", err);\n      }\n    };\n    fetchPosts();\n    // Add setPosts to dependency array to satisfy eslint\n  }, [page, userId, setPosts]);\n\n  // Defensive: ensure posts and bookmarkedPosts are always arrays\n  const safePosts = Array.isArray(posts) ? posts : [];\n  const safeBookmarkedPosts = Array.isArray(bookmarkedPosts) ? bookmarkedPosts : [];\n\n  // Ensure every post has a unique 'id' property\n  const normalizedPosts = safePosts.map((post, idx) => {\n    var _ref, _post$id;\n    return {\n      ...post,\n      id: (_ref = (_post$id = post.id) !== null && _post$id !== void 0 ? _post$id : post._id) !== null && _ref !== void 0 ? _ref : idx\n    };\n  });\n\n  // Helper to get the correct posts for the current page\n  const getPostsToShow = () => {\n    if (page === \"dashboard\") {\n      // Only show posts created by the current user\n      return normalizedPosts.filter(post => post.user_id === userId || post.userId === userId || post.user && (post.user === userId || post.user._id === userId));\n    }\n    if (page === \"bookmarks\") {\n      // Only show bookmarked posts that still exist in all posts\n      return safeBookmarkedPosts.filter(b => normalizedPosts.some(p => {\n        var _p$id, _b$id;\n        return ((_p$id = p.id) !== null && _p$id !== void 0 ? _p$id : p._id) === ((_b$id = b.id) !== null && _b$id !== void 0 ? _b$id : b._id);\n      }));\n    }\n    // Default to \"home\" or any other value: show all posts\n    return normalizedPosts;\n  };\n  const postsToShow = getPostsToShow();\n  const handlePostSubmit = async () => {\n    if (!newPost.title.trim() || !newPost.content.trim()) {\n      setError(\"Both title and content are required!\");\n      return;\n    }\n    setError(\"\");\n    const tagsArray = newPost.tags.split(\",\").map(t => t.trim()).filter(t => t.length > 0);\n    try {\n      const response = await fetch(\"http://localhost:5000/api/post\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...newPost,\n          user_id: userId,\n          tags: tagsArray\n        })\n      });\n      if (!response.ok) {\n        const errMsg = await response.text();\n        setError(\"Failed to add post: \" + errMsg);\n        return;\n      }\n      const addedPost = await response.json();\n\n      // Always add the new post to the posts list so it appears immediately\n      setPosts(prev => [addedPost, ...prev]);\n      setNewPost({\n        title: \"\",\n        content: \"\",\n        tags: \"\"\n      });\n      setShowAddPostModal(false);\n    } catch (error) {\n      setError(\"Error adding post: \" + error.message);\n      console.error(\"Error adding post:\", error);\n    }\n  };\n\n  // Like logic: toggle like for this user (by userId) and update backend\n  const handleLikePost = async postId => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/posts/${postId}/like`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId\n        })\n      });\n      if (response.ok) {\n        const updatedPost = await response.json();\n        setPosts(prevPosts => prevPosts.map(post => {\n          var _post$id2, _updatedPost$id;\n          return ((_post$id2 = post.id) !== null && _post$id2 !== void 0 ? _post$id2 : post._id) === ((_updatedPost$id = updatedPost.id) !== null && _updatedPost$id !== void 0 ? _updatedPost$id : updatedPost._id) ? updatedPost : post;\n        }));\n        setSearchResults(prevResults => prevResults.map(post => {\n          var _post$id3, _updatedPost$id2;\n          return ((_post$id3 = post.id) !== null && _post$id3 !== void 0 ? _post$id3 : post._id) === ((_updatedPost$id2 = updatedPost.id) !== null && _updatedPost$id2 !== void 0 ? _updatedPost$id2 : updatedPost._id) ? updatedPost : post;\n        }));\n      }\n    } catch (error) {\n      console.error(\"Error liking post:\", error);\n    }\n  };\n  const handleDeleteClick = postId => {\n    setDeleteId(postId);\n    setShowDeleteWarning(true);\n  };\n\n  // Delete logic: update backend and remove from UI\n  const handleConfirmDelete = async () => {\n    try {\n      await fetch(`http://localhost:5000/api/post/${deleteId}`, {\n        method: \"DELETE\"\n      });\n    } catch (e) {\n      // Ignore error, still remove from UI\n    }\n    setPosts(prev => prev.filter((p, idx) => {\n      var _ref2, _p$id2;\n      return ((_ref2 = (_p$id2 = p.id) !== null && _p$id2 !== void 0 ? _p$id2 : p._id) !== null && _ref2 !== void 0 ? _ref2 : idx) !== deleteId;\n    }));\n    setBookmarkedPosts(prev => prev.filter((b, idx) => {\n      var _ref3, _b$id2;\n      return ((_ref3 = (_b$id2 = b.id) !== null && _b$id2 !== void 0 ? _b$id2 : b._id) !== null && _ref3 !== void 0 ? _ref3 : idx) !== deleteId;\n    }));\n    setShowDeleteWarning(false);\n    setDeleteId(null);\n  };\n  const handleCancelDelete = () => {\n    setShowDeleteWarning(false);\n    setDeleteId(null);\n  };\n\n  // Combined search for tags and post content/title\n  const handleCombinedSearch = async e => {\n    e && e.preventDefault();\n    if (!searchTag.trim()) return;\n    setSearchLoading(true);\n    setSearchResults([]);\n    // Search by tag\n    const tagRes = await fetch(`http://localhost:5000/api/posts/tag/${encodeURIComponent(searchTag.trim())}`);\n    const tagData = await tagRes.json();\n    // Search all posts for title/content match\n    const allRes = await fetch(\"http://localhost:5000/api/posts\");\n    const allPosts = await allRes.json();\n    const textMatches = allPosts.filter(post => post.title.toLowerCase().includes(searchTag.trim().toLowerCase()) || post.content.toLowerCase().includes(searchTag.trim().toLowerCase()));\n    // Merge and deduplicate results\n    const merged = [...tagData, ...textMatches.filter(post => !tagData.some(t => t.id === post.id))];\n    setSearchResults(merged);\n    // Related: partial tag match if no results\n    if (merged.length === 0) {\n      // const related = allPosts.filter(\n      // (post) =>\n      // post.tags &&\n      // post.tags.some((tag) =>\n      // tag.toLowerCase().includes(searchTag.trim().toLowerCase())\n      //  )\n      // );\n    }\n    setSearchLoading(false);\n  };\n\n  // Show a warning if required props are not provided\n  useEffect(() => {\n    if (typeof setPosts !== \"function\" || typeof setPage !== \"function\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"Feed: setPosts and setPage must be provided by the parent component for sidebar and posting to work.\");\n    }\n  }, [setPosts, setPage]);\n\n  // Live related results as user types in search bar (debounced)\n  useEffect(() => {\n    if (!searchTag.trim()) {\n      return;\n    }\n    const controller = new AbortController();\n    const timeout = setTimeout(async () => {\n      try {\n        // const allRes = await fetch(\"http://localhost:5000/api/posts\", { signal: controller.signal });\n        // const allPosts = await allRes.json();\n        // const related = allPosts.filter(\n        //  (post) =>\n        //  post.tags &&\n        // post.tags.some((tag) =>\n        //   tag.toLowerCase().includes(searchTag.trim().toLowerCase())\n        //  )\n        //  );\n      } catch (e) {\n        // Ignore abort errors\n      }\n    }, 200); // Debounce for 200ms\n\n    return () => {\n      controller.abort();\n      clearTimeout(timeout);\n    };\n    // eslint-disable-next-line\n  }, [searchTag]);\n\n  // Save bookmarks to localStorage whenever they change\n  useEffect(() => {\n    // Only save if not on the bookmarks page to avoid overwriting with filtered posts\n    if (page !== \"bookmarks\") {\n      localStorage.setItem(\"spaceanon_bookmarks\", JSON.stringify(bookmarkedPosts));\n    }\n  }, [bookmarkedPosts, page]);\n\n  // Load bookmarks from localStorage on mount (only once)\n  useEffect(() => {\n    const saved = localStorage.getItem(\"spaceanon_bookmarks\");\n    if (saved) {\n      try {\n        setBookmarkedPosts(JSON.parse(saved));\n      } catch {}\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  // Fetch paginated comments for a post\n  const fetchComments = async postId => {\n    try {\n      const response = await axios.get(`http://localhost:5000/api/comments/${postId}`);\n      const data = response.data || [];\n      setComments(prev => ({\n        ...prev,\n        [postId]: data\n      }));\n    } catch (error) {\n      console.error(\"Error fetching comments:\", error);\n    }\n  };\n\n  // Load more comments for a post\n\n  // Like/unlike a comment\n  const handleLikeComment = async (commentId, postId) => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/comments/${commentId}/like`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          userId\n        })\n      });\n      if (response.ok) {\n        fetchComments(postId); // Refresh comments for real-time update\n      }\n    } catch (error) {\n      console.error(\"Error liking comment:\", error);\n    }\n  };\n\n  // Toggle comments section\n  const toggleComments = postId => {\n    setShowComments(prev => ({\n      ...prev,\n      [postId]: !prev[postId]\n    }));\n    if (!showComments[postId]) fetchComments(postId);\n  };\n\n  // Delete a comment or reply (and its children)\n  const handleDeleteComment = async (commentId, postId) => {\n    try {\n      await axios.delete(`http://localhost:5000/api/comments/${commentId}`);\n      // Wait a moment to ensure backend deletes all children before refetching\n      setTimeout(() => fetchComments(postId), 200);\n    } catch (error) {\n      console.error(\"Error deleting comment:\", error);\n    }\n  };\n\n  // Recursive render for nested comments (unlimited depth)\n  const renderComments = (commentsArr, postId) => {\n    if (!commentsArr) return null;\n    return commentsArr.map(comment => {\n      var _comment$id;\n      const cid = (_comment$id = comment.id) !== null && _comment$id !== void 0 ? _comment$id : comment._id;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 10,\n          marginLeft: comment.parent_id ? 24 : 0,\n          borderLeft: comment.parent_id ? \"2px solid #23264A\" : \"none\",\n          paddingLeft: comment.parent_id ? 12 : 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 500,\n              color: \"#E63946\"\n            },\n            children: comment.userid\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              marginLeft: 8,\n              color: \"#fff\"\n            },\n            children: comment.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleLikeComment(cid, postId),\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: (comment.likes || []).includes(userId) ? \"#E63946\" : \"#C4C4C4\",\n              marginLeft: 12,\n              cursor: \"pointer\",\n              fontSize: \"1.1em\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(FaHeart, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                marginLeft: 4,\n                fontWeight: 500\n              },\n              children: (comment.likes || []).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setReplyBox(prev => ({\n              ...prev,\n              [cid]: !prev[cid]\n            })),\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#A362EA\",\n              marginLeft: 8,\n              cursor: \"pointer\",\n              fontSize: \"1em\"\n            },\n            children: \"Reply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDeleteComment(cid, postId),\n            style: {\n              background: \"none\",\n              border: \"none\",\n              color: \"#F48C8C\",\n              marginLeft: 8,\n              cursor: \"pointer\",\n              fontSize: \"1em\"\n            },\n            \"aria-label\": \"Delete comment\",\n            children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 11\n        }, this), replyBox[cid] && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 6,\n            display: \"flex\",\n            gap: 6\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Write a reply...\",\n            value: newComment[cid] || \"\",\n            onChange: e => setNewComment(prev => ({\n              ...prev,\n              [cid]: e.target.value\n            })),\n            style: {\n              flex: 1,\n              padding: \"6px 10px\",\n              borderRadius: 8,\n              border: \"1px solid #333\",\n              background: \"#23264A\",\n              color: \"#fff\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              await handleAddComment(postId, cid);\n              setReplyBox(prev => ({\n                ...prev,\n                [cid]: false\n              }));\n              setNewComment(prev => ({\n                ...prev,\n                [cid]: \"\"\n              }));\n            },\n            style: {\n              padding: \"6px 14px\",\n              borderRadius: 8,\n              border: \"none\",\n              cursor: \"pointer\",\n              background: \"#A362EA\",\n              color: \"#fff\",\n              fontWeight: 500,\n              transition: \"background 0.2s\"\n            },\n            children: \"Reply\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 13\n        }, this), renderComments(comment.replies, postId)]\n      }, cid, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this);\n    });\n  };\n  const handleAddComment = async (postId, parentId = null) => {\n    const key = parentId || postId;\n    const content = newComment[key];\n    if (!(content !== null && content !== void 0 && content.trim())) return;\n    try {\n      await axios.post(\"http://localhost:5000/api/comments\", {\n        postid: postId,\n        userid: userId,\n        content,\n        parent_id: parentId\n      });\n      setNewComment(prev => ({\n        ...prev,\n        [key]: \"\"\n      }));\n      setReplyBox(prev => ({\n        ...prev,\n        [parentId]: false\n      }));\n      fetchComments(postId); // Refresh comments for real-time update\n    } catch (error) {\n      console.error(\"Error adding comment:\", error);\n    }\n  };\n\n  // Poll notifications every 10 seconds\n  useEffect(() => {\n    let interval;\n    const fetchNotifications = async () => {\n      try {\n        const res = await fetch(`http://localhost:5000/api/notifications/${userId}`);\n        if (res.ok) {\n          const data = await res.json();\n          setNotifications(data);\n          setUnreadCount(data.length); // Simple: all are unread (for demo)\n        }\n      } catch (e) {\n        // ignore\n      }\n    };\n    fetchNotifications();\n    interval = setInterval(fetchNotifications, 10000);\n    return () => clearInterval(interval);\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `dashboard-container${sidebarCollapsed ? \" collapsed\" : \"\"}`,\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      className: \"dashboard-sidebar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-logo-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"dashboard-toggle-btn\",\n          onClick: () => setSidebarCollapsed(c => !c),\n          \"aria-label\": \"Toggle sidebar\",\n          children: /*#__PURE__*/_jsxDEV(FaMoon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), !sidebarCollapsed && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-logo-icon\",\n            children: /*#__PURE__*/_jsxDEV(FaMoon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 53\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"dashboard-logo-text\",\n            children: \"Space Anon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"dashboard-nav\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `dashboard-nav-btn${page === \"home\" ? \" active\" : \"\"}`,\n          onClick: () => setPage(\"home\"),\n          \"aria-current\": page === \"home\" ? \"page\" : undefined,\n          style: page === \"home\" ? {\n            background: \"#A362EA\",\n            color: \"#fff\"\n          } : {},\n          children: [/*#__PURE__*/_jsxDEV(FaHome, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 13\n          }, this), !sidebarCollapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: `dashboard-nav-btn${page === \"dashboard\" ? \" active\" : \"\"}`,\n          onClick: () => setPage(\"dashboard\"),\n          \"aria-current\": page === \"dashboard\" ? \"page\" : undefined,\n          style: page === \"dashboard\" ? {\n            background: \"#A362EA\",\n            color: \"#fff\"\n          } : {},\n          children: [/*#__PURE__*/_jsxDEV(FaUser, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 13\n          }, this), !sidebarCollapsed && /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"My Posts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 35\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"dashboard-main\",\n      children: [(page === \"home\" || page === \"dashboard\") && /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"dashboard-main-search-bar sticky-search-bar\",\n        onSubmit: handleCombinedSearch,\n        children: [/*#__PURE__*/_jsxDEV(FaSearch, {\n          className: \"search-icon-btn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search posts or tags\",\n          value: searchTag,\n          onChange: e => setSearchTag(e.target.value),\n          className: \"tag-search-input\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"tag-search-btn\",\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-post-btn\",\n        onClick: () => setShowAddPostModal(true),\n        children: \"Add Post\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 561,\n        columnNumber: 9\n      }, this), searchTag.trim() && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed search-results\",\n        style: {\n          width: \"550px\",\n          maxWidth: \"550px\",\n          minWidth: \"550px\",\n          margin: \"0 auto\"\n        },\n        children: searchLoading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-loading\",\n          children: \"Searching...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 15\n        }, this) : searchResults.length > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"#A362EA\",\n              margin: \"0 0 12px 0\"\n            },\n            children: [\"Results for: \", searchTag]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 17\n          }, this), searchResults.map((post, idx) => {\n            var _ref4, _post$id4;\n            const id = (_ref4 = (_post$id4 = post.id) !== null && _post$id4 !== void 0 ? _post$id4 : post._id) !== null && _ref4 !== void 0 ? _ref4 : idx;\n            const expanded = expandedPosts[id];\n            const content = post.content || \"\";\n            //  const liked = likesArr.includes(userId);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `post${expanded ? \" expanded\" : \"\"}`,\n              style: {\n                width: \"100%\",\n                maxWidth: 780,\n                minWidth: 780,\n                margin: \"0 auto\",\n                minHeight: 120,\n                maxHeight: expanded ? \"none\" : 220,\n                overflow: expanded ? \"visible\" : \"hidden\",\n                textAlign: \"left\",\n                display: \"flex\",\n                flexDirection: \"column\",\n                alignItems: \"flex-start\",\n                background: \"#181C3A\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  textAlign: \"left\",\n                  margin: \"0 0 8px 0\"\n                },\n                children: post.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  ...(expanded ? {\n                    display: \"block\",\n                    overflow: \"visible\",\n                    WebkitLineClamp: \"unset\",\n                    maxHeight: \"none\"\n                  } : {\n                    display: \"-webkit-box\",\n                    WebkitBoxOrient: \"vertical\",\n                    WebkitLineClamp: 8,\n                    overflow: \"hidden\",\n                    maxHeight: \"12em\"\n                  }),\n                  textAlign: \"left\",\n                  marginBottom: 0,\n                  width: \"100%\",\n                  wordBreak: \"break-word\"\n                },\n                children: content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 23\n              }, this), content.split(/\\s+/).length > 60 && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"show-more-less\",\n                style: {\n                  color: \"#A362EA\",\n                  cursor: \"pointer\",\n                  marginLeft: 8,\n                  fontWeight: 500\n                },\n                onClick: () => setExpandedPosts(prev => ({\n                  ...prev,\n                  [id]: !prev[id]\n                })),\n                children: expanded ? \" Show less\" : \" Show more\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 627,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-tags\",\n                style: {\n                  textAlign: \"left\",\n                  marginTop: 8\n                },\n                children: post.tags && post.tags.map((tag, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"post-tag\",\n                  children: [\"#\", tag]\n                }, i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-actions\",\n                style: {\n                  marginTop: 12,\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 18,\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"post-like-btn\",\n                  onClick: () => handleLikePost(id),\n                  \"aria-label\": \"Like post\",\n                  style: {\n                    background: \"#23264A\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    color: Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#C4C4C4\",\n                    fontSize: \"1.2rem\",\n                    borderRadius: \"50%\",\n                    padding: \"6px 12px\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    transition: \"color 0.2s, background 0.2s\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FaHeart, {\n                    color: Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#C4C4C4\",\n                    style: {\n                      marginRight: 6\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 672,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: \"#C4C4C4\",\n                      fontWeight: 500,\n                      fontSize: \"1.05rem\",\n                      marginLeft: 2,\n                      minWidth: 18,\n                      display: \"inline-block\"\n                    },\n                    children: Array.isArray(post.likes) ? post.likes.length : 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 655,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"post-delete-btn\",\n                  onClick: () => handleDeleteClick(id),\n                  \"aria-label\": \"Delete post\",\n                  style: {\n                    background: \"#23264A\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    color: \"#F48C8C\",\n                    fontSize: \"1.2rem\",\n                    borderRadius: \"50%\",\n                    padding: \"6px 12px\",\n                    marginLeft: \"auto\",\n                    transition: \"color 0.2s, background 0.2s\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                    color: \"#F48C8C\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 703,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 687,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 645,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"post-comments-section\",\n                style: {\n                  marginTop: 16,\n                  width: \"100%\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"toggle-comments-btn\",\n                  onClick: () => toggleComments(id),\n                  style: {\n                    background: \"none\",\n                    border: \"none\",\n                    cursor: \"pointer\",\n                    color: \"#A362EA\",\n                    fontSize: \"1rem\",\n                    padding: 0,\n                    margin: \"0 0 12px 0\",\n                    display: \"flex\",\n                    alignItems: \"center\",\n                    gap: 8\n                  },\n                  children: [showComments[id] ? \"▲\" : \"▼\", \" Comments\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 708,\n                  columnNumber: 25\n                }, this), showComments[id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comments-container\",\n                  style: {\n                    width: \"100%\",\n                    paddingLeft: 24\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"comments-list\",\n                    style: {\n                      maxHeight: 200,\n                      overflowY: \"auto\",\n                      marginBottom: 12\n                    },\n                    children: renderComments(comments[id] || [], id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"new-comment-form\",\n                    style: {\n                      display: \"flex\",\n                      gap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      placeholder: \"Add a comment...\",\n                      value: newComment[id] || \"\",\n                      onChange: e => setNewComment(prev => ({\n                        ...prev,\n                        [id]: e.target.value\n                      })),\n                      style: {\n                        flex: 1,\n                        padding: \"8px 12px\",\n                        borderRadius: 8,\n                        border: \"1px solid #333\",\n                        background: \"#23264A\",\n                        color: \"#fff\"\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 734,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"add-comment-btn\",\n                      onClick: () => handleAddComment(id),\n                      style: {\n                        padding: \"8px 16px\",\n                        borderRadius: 8,\n                        border: \"none\",\n                        cursor: \"pointer\",\n                        background: \"#A362EA\",\n                        color: \"#fff\",\n                        fontWeight: 500,\n                        transition: \"background 0.2s\"\n                      },\n                      children: \"Add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 748,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 733,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 707,\n                columnNumber: 23\n              }, this)]\n            }, id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 21\n            }, this);\n          })]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"No results found for \\\"\", searchTag, \"\\\".\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 566,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"feed feed-scrollable\",\n        style: {\n          width: \"550px\",\n          maxWidth: \"550px\",\n          minWidth: \"550px\",\n          margin: \"0 auto\"\n        },\n        children: postsToShow.length > 0 ? postsToShow.map((post, idx) => {\n          var _ref5, _post$id5;\n          const id = (_ref5 = (_post$id5 = post.id) !== null && _post$id5 !== void 0 ? _post$id5 : post._id) !== null && _ref5 !== void 0 ? _ref5 : idx;\n          //  const isBookmarked = bookmarkedPosts.some((b) => (b.id ?? b._id) === id);\n          const expanded = expandedPosts[id];\n          const content = post.content || \"\";\n          // Always show all text if expanded, otherwise clamp to 10 lines\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `post${expanded ? \" expanded\" : \"\"}`,\n            style: {\n              width: \"100%\",\n              maxWidth: 530,\n              minWidth: 530,\n              margin: \"0 auto\",\n              wordBreak: \"break-word\",\n              whiteSpace: \"normal\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                wordBreak: \"break-word\",\n                whiteSpace: \"normal\",\n                margin: 0,\n                padding: 0\n              },\n              children: post.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                ...(expanded ? {\n                  display: \"block\",\n                  overflow: \"visible\",\n                  WebkitLineClamp: \"unset\",\n                  maxHeight: \"none\"\n                } : {\n                  display: \"-webkit-box\",\n                  WebkitBoxOrient: \"vertical\",\n                  WebkitLineClamp: 10,\n                  overflow: \"hidden\",\n                  maxHeight: \"18em\"\n                }),\n                textAlign: \"left\",\n                marginBottom: 0,\n                width: \"100%\",\n                wordBreak: \"break-word\",\n                whiteSpace: \"pre-line\" // Allow line breaks and wrapping\n              },\n              children: content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 817,\n              columnNumber: 19\n            }, this), content.split(/\\s+/).length > 60 && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"show-more-less\",\n              style: {\n                color: \"#A362EA\",\n                cursor: \"pointer\",\n                marginLeft: 8,\n                fontWeight: 500\n              },\n              onClick: () => setExpandedPosts(prev => ({\n                ...prev,\n                [id]: !prev[id]\n              })),\n              children: expanded ? \" Show less\" : \" Show more\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 838,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-tags\",\n              children: post.tags && post.tags.map((tag, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"post-tag\",\n                children: [\"#\", tag]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 851,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"post-like-btn\",\n                onClick: () => handleLikePost(id),\n                \"aria-label\": \"Like post\",\n                children: [/*#__PURE__*/_jsxDEV(FaHeart, {\n                  color: Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#ccc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 860,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: 6,\n                    color: \"#C4C4C4\",\n                    fontWeight: 500\n                  },\n                  children: Array.isArray(post.likes) ? post.likes.length : 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 861,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"post-delete-btn\",\n                onClick: () => handleDeleteClick(id),\n                \"aria-label\": \"Delete post\",\n                children: /*#__PURE__*/_jsxDEV(FaTrash, {\n                  color: \"#ccc\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 870,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 865,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 854,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"post-comments-section\",\n              style: {\n                marginTop: 16,\n                width: \"100%\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"toggle-comments-btn\",\n                onClick: () => toggleComments(id),\n                style: {\n                  background: \"none\",\n                  border: \"none\",\n                  cursor: \"pointer\",\n                  color: \"#A362EA\",\n                  fontSize: \"1rem\",\n                  padding: 0,\n                  margin: \"0 0 12px 0\",\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: 8\n                },\n                children: [showComments[id] ? \"▲\" : \"▼\", \" Comments\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 875,\n                columnNumber: 21\n              }, this), showComments[id] && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"comments-container\",\n                style: {\n                  width: \"100%\",\n                  paddingLeft: 24\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"comments-list\",\n                  style: {\n                    maxHeight: 200,\n                    overflowY: \"auto\",\n                    marginBottom: 12\n                  },\n                  children: renderComments(comments[id] || [], id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 896,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"new-comment-form\",\n                  style: {\n                    display: \"flex\",\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"text\",\n                    placeholder: \"Add a comment...\",\n                    value: newComment[id] || \"\",\n                    onChange: e => setNewComment(prev => ({\n                      ...prev,\n                      [id]: e.target.value\n                    })),\n                    style: {\n                      flex: 1,\n                      padding: \"8px 12px\",\n                      borderRadius: 8,\n                      border: \"1px solid #333\",\n                      background: \"#23264A\",\n                      color: \"#fff\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 901,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"add-comment-btn\",\n                    onClick: () => handleAddComment(id),\n                    style: {\n                      padding: \"8px 16px\",\n                      borderRadius: 8,\n                      border: \"none\",\n                      cursor: \"pointer\",\n                      background: \"#A362EA\",\n                      color: \"#fff\",\n                      fontWeight: 500,\n                      transition: \"background 0.2s\"\n                    },\n                    children: \"Add\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 900,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 894,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 874,\n              columnNumber: 19\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 795,\n            columnNumber: 17\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            textAlign: \"center\",\n            color: \"#666\",\n            padding: \"32px 0\"\n          },\n          children: [page === \"home\" && \"Welcome to Space Anon! Share your thoughts with the world.\", page === \"dashboard\" && \"You haven't created any posts yet.\", page === \"bookmarks\" && \"No bookmarks yet. Find something interesting and bookmark it!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 939,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 9\n      }, this), showAddPostModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"add-post-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"add-post-modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create a New Post\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 950,\n            columnNumber: 15\n          }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 951,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-post-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"post-title\",\n              children: [\"Title \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#F48C8C\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 954,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"post-title\",\n              type: \"text\",\n              value: newPost.title,\n              onChange: e => setNewPost({\n                ...newPost,\n                title: e.target.value\n              }),\n              placeholder: \"Enter post title\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 952,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-post-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"post-content\",\n              children: [\"Content \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#F48C8C\"\n                },\n                children: \"*\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 967,\n                columnNumber: 27\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"post-content\",\n              value: newPost.content,\n              onChange: e => setNewPost({\n                ...newPost,\n                content: e.target.value\n              }),\n              placeholder: \"What's on your mind?\",\n              rows: 8 // Make content space bigger\n              ,\n              required: true,\n              style: {\n                minHeight: 140,\n                height: 180,\n                maxHeight: 320\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 969,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 965,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-post-form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"post-tags\",\n              children: [\"Tags \", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"#C4C4C4\",\n                  fontWeight: 400\n                },\n                children: \"(optional)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 981,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 980,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"post-tags\",\n              type: \"text\",\n              value: newPost.tags,\n              onChange: e => setNewPost({\n                ...newPost,\n                tags: e.target.value\n              }),\n              placeholder: \"e.g. thoughts, advice, vent (comma separated)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 983,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"add-post-modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-post-submit\",\n              onClick: handlePostSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 992,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"add-post-cancel\",\n              onClick: () => setShowAddPostModal(false),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 995,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 991,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 949,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 948,\n        columnNumber: 11\n      }, this), showDeleteWarning && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-warning-modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"delete-warning-content\",\n          style: {\n            background: \"#181C3A\",\n            borderRadius: 14,\n            padding: \"38px 32px 28px 32px\",\n            boxShadow: \"0 4px 32px rgba(244,140,140,0.18)\",\n            color: \"#fff\",\n            minWidth: 320,\n            maxWidth: \"90vw\",\n            textAlign: \"center\",\n            position: \"relative\",\n            border: \"2px solid #A362EA\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: \"#F48C8C\"\n            },\n            children: \"Confirm Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"#fff\"\n            },\n            children: \"Are you sure you want to delete this post? This action cannot be undone.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"delete-warning-actions\",\n            style: {\n              display: \"flex\",\n              justifyContent: \"center\",\n              gap: 18\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-warning-confirm\",\n              onClick: handleConfirmDelete,\n              style: {\n                padding: \"10px 28px\",\n                borderRadius: 8,\n                border: \"none\",\n                fontSize: \"1rem\",\n                fontWeight: 600,\n                cursor: \"pointer\",\n                background: \"#F48C8C\",\n                color: \"#fff\",\n                transition: \"background 0.2s, color 0.2s\"\n              },\n              children: \"Yes, delete it\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"delete-warning-cancel\",\n              onClick: handleCancelDelete,\n              style: {\n                padding: \"10px 28px\",\n                borderRadius: 8,\n                border: \"none\",\n                fontSize: \"1rem\",\n                fontWeight: 600,\n                cursor: \"pointer\",\n                background: \"#23264A\",\n                color: \"#fff\",\n                transition: \"background 0.2s, color 0.2s\"\n              },\n              children: \"No, keep it\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1037,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1019,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1005,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1004,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: \"relative\",\n          display: \"inline-block\",\n          margin: \"16px 0 0 16px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowNotifications(v => !v),\n          style: {\n            background: \"none\",\n            border: \"none\",\n            cursor: \"pointer\",\n            position: \"relative\",\n            fontSize: \"1.6em\",\n            color: \"#A362EA\"\n          },\n          \"aria-label\": \"Show notifications\",\n          children: [/*#__PURE__*/_jsxDEV(FaBell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1071,\n            columnNumber: 13\n          }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              position: \"absolute\",\n              top: -6,\n              right: -6,\n              background: \"#E63946\",\n              color: \"#fff\",\n              borderRadius: \"50%\",\n              fontSize: \"0.8em\",\n              padding: \"2px 6px\",\n              fontWeight: 700,\n              minWidth: 18,\n              textAlign: \"center\"\n            },\n            children: unreadCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1073,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 11\n        }, this), showNotifications && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            top: 32,\n            left: 0,\n            background: \"#23264A\",\n            color: \"#fff\",\n            borderRadius: 8,\n            boxShadow: \"0 4px 16px rgba(0,0,0,0.18)\",\n            minWidth: 260,\n            zIndex: 100,\n            maxHeight: 320,\n            overflowY: \"auto\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"10px 16px\",\n              borderBottom: \"1px solid #444\",\n              fontWeight: 600\n            },\n            children: \"Notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 15\n          }, this), notifications.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 16,\n              color: \"#aaa\"\n            },\n            children: \"No notifications\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1108,\n            columnNumber: 17\n          }, this) : notifications.map(n => /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: \"10px 16px\",\n              borderBottom: \"1px solid #333\"\n            },\n            children: [n.type === \"reply\" ? \"Someone replied to your comment\" : \"Someone commented on your post\", /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.95em\",\n                color: \"#A362EA\",\n                marginTop: 2\n              },\n              children: [\"Post #\", n.post_id, \" \\u2022 Comment #\", n.comment_id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1113,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"0.8em\",\n                color: \"#888\"\n              },\n              children: new Date(n.created_at).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 21\n            }, this)]\n          }, n.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 545,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 491,\n    columnNumber: 5\n  }, this);\n};\n_s(Feed, \"dFToKIfyFABGrgeu/UW/ze1K87c=\");\n_c = Feed;\nexport default Feed;\nvar _c;\n$RefreshReg$(_c, \"Feed\");","map":{"version":3,"names":["React","useState","useEffect","supabase","FaHeart","FaTrash","FaHome","FaUser","FaMoon","FaSearch","FaBell","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","getUserId","userId","localStorage","getItem","Math","random","toString","substr","Date","now","setItem","Feed","posts","setPosts","page","setPage","bookmarkedPosts","setBookmarkedPosts","_s","newPost","setNewPost","title","content","tags","error","setError","showAddPostModal","setShowAddPostModal","sidebarCollapsed","setSidebarCollapsed","searchTag","setSearchTag","searchResults","setSearchResults","searchLoading","setSearchLoading","expandedPosts","setExpandedPosts","showDeleteWarning","setShowDeleteWarning","deleteId","setDeleteId","comments","setComments","newComment","setNewComment","showComments","setShowComments","replyBox","setReplyBox","notifications","setNotifications","showNotifications","setShowNotifications","unreadCount","setUnreadCount","fetchPosts","url","response","fetch","ok","Error","data","json","err","console","safePosts","Array","isArray","safeBookmarkedPosts","normalizedPosts","map","post","idx","_ref","_post$id","id","_id","getPostsToShow","filter","user_id","user","b","some","p","_p$id","_b$id","postsToShow","handlePostSubmit","trim","tagsArray","split","t","length","method","headers","body","JSON","stringify","errMsg","text","addedPost","prev","message","handleLikePost","postId","updatedPost","prevPosts","_post$id2","_updatedPost$id","prevResults","_post$id3","_updatedPost$id2","handleDeleteClick","handleConfirmDelete","e","_ref2","_p$id2","_ref3","_b$id2","handleCancelDelete","handleCombinedSearch","preventDefault","tagRes","encodeURIComponent","tagData","allRes","allPosts","textMatches","toLowerCase","includes","merged","warn","controller","AbortController","timeout","setTimeout","abort","clearTimeout","saved","parse","fetchComments","get","handleLikeComment","commentId","toggleComments","handleDeleteComment","delete","renderComments","commentsArr","comment","_comment$id","cid","style","marginBottom","marginLeft","parent_id","borderLeft","paddingLeft","children","display","alignItems","fontWeight","color","userid","fileName","_jsxFileName","lineNumber","columnNumber","onClick","background","border","likes","cursor","fontSize","marginTop","gap","type","placeholder","value","onChange","target","flex","padding","borderRadius","handleAddComment","transition","replies","parentId","key","postid","interval","fetchNotifications","res","setInterval","clearInterval","className","c","undefined","onSubmit","autoFocus","width","maxWidth","minWidth","margin","_ref4","_post$id4","expanded","minHeight","maxHeight","overflow","textAlign","flexDirection","WebkitLineClamp","WebkitBoxOrient","wordBreak","tag","i","marginRight","overflowY","_ref5","_post$id5","whiteSpace","htmlFor","required","rows","height","boxShadow","position","justifyContent","v","top","right","left","zIndex","borderBottom","n","post_id","comment_id","created_at","toLocaleString","_c","$RefreshReg$"],"sources":["C:/Users/victoria/Desktop/space-anon/space-anon-frontend/src/Feed.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { supabase } from \"./supabaseClient\";\r\nimport \"./Feed.css\";\r\nimport {\r\n  FaHeart,\r\n  FaTrash,\r\n  FaHome,\r\n  FaUser,\r\n  FaMoon,\r\n  FaSearch,\r\n  //FaRegBookmark,\r\n  //FaBookmark, // <-- Add this import\r\n  FaBell\r\n} from \"react-icons/fa\";\r\nimport axios from \"axios\";\r\n\r\n// Generate or get user ID\r\nfunction getUserId() {\r\n  let userId = localStorage.getItem(\"spaceanon_user_id\");\r\n  if (!userId) {\r\n    userId = Math.random().toString(36).substr(2, 12) + Date.now();\r\n    localStorage.setItem(\"spaceanon_user_id\", userId);\r\n  }\r\n  return userId;\r\n}\r\n\r\nconst Feed = ({\r\n  posts = [],\r\n  setPosts = () => {},\r\n  page = \"home\",\r\n  setPage = () => {},\r\n  bookmarkedPosts = [],\r\n  setBookmarkedPosts = () => {},\r\n}) => {\r\n  const [newPost, setNewPost] = useState({ title: \"\", content: \"\", tags: \"\" });\r\n  const [error, setError] = useState(\"\");\r\n  const [showAddPostModal, setShowAddPostModal] = useState(false);\r\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\r\n  const [searchTag, setSearchTag] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchLoading, setSearchLoading] = useState(false);\r\n  const userId = getUserId();\r\n\r\n  // Add state for expanded posts\r\n  const [expandedPosts, setExpandedPosts] = useState({});\r\n  // Add missing state for delete modal and related results\r\n  const [showDeleteWarning, setShowDeleteWarning] = useState(false);\r\n  const [deleteId, setDeleteId] = useState(null);\r\n  // State for comments\r\n  const [comments, setComments] = useState({}); // postId -> nested array of comments\r\n  const [newComment, setNewComment] = useState({}); // postId or commentId -> comment content\r\n  const [showComments, setShowComments] = useState({}); // postId -> boolean\r\n  const [replyBox, setReplyBox] = useState({}); // commentId -> boolean\r\n  // Add state for comment pagination\r\n // const [commentPagination, setCommentPagination] = useState({}); // postId -> {limit, offset, hasMore}\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [showNotifications, setShowNotifications] = useState(false);\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        let url;\r\n        if (page === \"dashboard\") {\r\n          url = `https://space-anon-backend.onrender.com/api/myposts/${userId}`;\r\n        } else {\r\n          url = \"https://space-anon-backend.onrender.com/api/posts\";\r\n        }\r\n        const response = await fetch(url);\r\n        if (!response.ok) throw new Error(\"Network response was not ok\");\r\n        const data = await response.json();\r\n        setPosts(data || []);\r\n      } catch (err) {\r\n        setPosts([]);\r\n        console.error(\"Failed to fetch posts:\", err);\r\n      }\r\n    };\r\n    fetchPosts();\r\n    // Add setPosts to dependency array to satisfy eslint\r\n  }, [page, userId, setPosts]);\r\n\r\n  // Defensive: ensure posts and bookmarkedPosts are always arrays\r\n  const safePosts = Array.isArray(posts) ? posts : [];\r\n  const safeBookmarkedPosts = Array.isArray(bookmarkedPosts) ? bookmarkedPosts : [];\r\n\r\n  // Ensure every post has a unique 'id' property\r\n  const normalizedPosts = safePosts.map((post, idx) => ({\r\n    ...post,\r\n    id: post.id ?? post._id ?? idx,\r\n  }));\r\n\r\n  // Helper to get the correct posts for the current page\r\n  const getPostsToShow = () => {\r\n    if (page === \"dashboard\") {\r\n      // Only show posts created by the current user\r\n      return normalizedPosts.filter(\r\n        (post) =>\r\n          post.user_id === userId ||\r\n          post.userId === userId ||\r\n          (post.user && (post.user === userId || post.user._id === userId))\r\n      );\r\n    }\r\n    if (page === \"bookmarks\") {\r\n      // Only show bookmarked posts that still exist in all posts\r\n      return safeBookmarkedPosts.filter(\r\n        (b) =>\r\n          normalizedPosts.some((p) => (p.id ?? p._id) === (b.id ?? b._id))\r\n      );\r\n    }\r\n    // Default to \"home\" or any other value: show all posts\r\n    return normalizedPosts;\r\n  };\r\n\r\n  const postsToShow = getPostsToShow();\r\n\r\n  const handlePostSubmit = async () => {\r\n    if (!newPost.title.trim() || !newPost.content.trim()) {\r\n      setError(\"Both title and content are required!\");\r\n      return;\r\n    }\r\n    setError(\"\");\r\n    const tagsArray = newPost.tags\r\n      .split(\",\")\r\n      .map((t) => t.trim())\r\n      .filter((t) => t.length > 0);\r\n\r\n    try {\r\n      const response = await fetch(\"http://localhost:5000/api/post\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ ...newPost, user_id: userId, tags: tagsArray }),\r\n      });\r\n      if (!response.ok) {\r\n        const errMsg = await response.text();\r\n        setError(\"Failed to add post: \" + errMsg);\r\n        return;\r\n      }\r\n      const addedPost = await response.json();\r\n\r\n      // Always add the new post to the posts list so it appears immediately\r\n      setPosts((prev) => [addedPost, ...prev]);\r\n      setNewPost({ title: \"\", content: \"\", tags: \"\" });\r\n      setShowAddPostModal(false);\r\n    } catch (error) {\r\n      setError(\"Error adding post: \" + error.message);\r\n      console.error(\"Error adding post:\", error);\r\n    }\r\n  };\r\n\r\n  // Like logic: toggle like for this user (by userId) and update backend\r\n  const handleLikePost = async (postId) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/posts/${postId}/like`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ userId }),\r\n      });\r\n      if (response.ok) {\r\n        const updatedPost = await response.json();\r\n        setPosts((prevPosts) =>\r\n          prevPosts.map((post) =>\r\n            (post.id ?? post._id) === (updatedPost.id ?? updatedPost._id) ? updatedPost : post\r\n          )\r\n        );\r\n        setSearchResults((prevResults) =>\r\n          prevResults.map((post) =>\r\n            (post.id ?? post._id) === (updatedPost.id ?? updatedPost._id) ? updatedPost : post\r\n          )\r\n        );\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error liking post:\", error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteClick = (postId) => {\r\n    setDeleteId(postId);\r\n    setShowDeleteWarning(true);\r\n  };\r\n\r\n  // Delete logic: update backend and remove from UI\r\n  const handleConfirmDelete = async () => {\r\n    try {\r\n      await fetch(`http://localhost:5000/api/post/${deleteId}`, { method: \"DELETE\" });\r\n    } catch (e) {\r\n      // Ignore error, still remove from UI\r\n    }\r\n    setPosts((prev) =>\r\n      prev.filter((p, idx) =>\r\n        (p.id ?? p._id ?? idx) !== deleteId\r\n      )\r\n    );\r\n    setBookmarkedPosts((prev) =>\r\n      prev.filter((b, idx) =>\r\n        (b.id ?? b._id ?? idx) !== deleteId\r\n      )\r\n    );\r\n    setShowDeleteWarning(false);\r\n    setDeleteId(null);\r\n  };\r\n\r\n  const handleCancelDelete = () => {\r\n    setShowDeleteWarning(false);\r\n    setDeleteId(null);\r\n  };\r\n\r\n  // Combined search for tags and post content/title\r\n  const handleCombinedSearch = async (e) => {\r\n    e && e.preventDefault();\r\n    if (!searchTag.trim()) return;\r\n    setSearchLoading(true);\r\n    setSearchResults([]);\r\n    // Search by tag\r\n    const tagRes = await fetch(`http://localhost:5000/api/posts/tag/${encodeURIComponent(searchTag.trim())}`);\r\n    const tagData = await tagRes.json();\r\n    // Search all posts for title/content match\r\n    const allRes = await fetch(\"http://localhost:5000/api/posts\");\r\n    const allPosts = await allRes.json();\r\n    const textMatches = allPosts.filter(\r\n      (post) =>\r\n        post.title.toLowerCase().includes(searchTag.trim().toLowerCase()) ||\r\n        post.content.toLowerCase().includes(searchTag.trim().toLowerCase())\r\n    );\r\n    // Merge and deduplicate results\r\n    const merged = [...tagData, ...textMatches.filter(\r\n      (post) => !tagData.some((t) => t.id === post.id)\r\n    )];\r\n    setSearchResults(merged);\r\n    // Related: partial tag match if no results\r\n    if (merged.length === 0) {\r\n     // const related = allPosts.filter(\r\n       // (post) =>\r\n         // post.tags &&\r\n          // post.tags.some((tag) =>\r\n            // tag.toLowerCase().includes(searchTag.trim().toLowerCase())\r\n        //  )\r\n     // );\r\n    }\r\n    setSearchLoading(false);\r\n  };\r\n\r\n \r\n  // Show a warning if required props are not provided\r\n  useEffect(() => {\r\n    if (typeof setPosts !== \"function\" || typeof setPage !== \"function\") {\r\n      // eslint-disable-next-line no-console\r\n      console.warn(\r\n        \"Feed: setPosts and setPage must be provided by the parent component for sidebar and posting to work.\"\r\n      );\r\n    }\r\n  }, [setPosts, setPage]);\r\n\r\n  // Live related results as user types in search bar (debounced)\r\n  useEffect(() => {\r\n    if (!searchTag.trim()) {\r\n      return;\r\n    }\r\n    const controller = new AbortController();\r\n    const timeout = setTimeout(async () => {\r\n      try {\r\n        // const allRes = await fetch(\"http://localhost:5000/api/posts\", { signal: controller.signal });\r\n       // const allPosts = await allRes.json();\r\n        // const related = allPosts.filter(\r\n        //  (post) =>\r\n          //  post.tags &&\r\n           // post.tags.some((tag) =>\r\n           //   tag.toLowerCase().includes(searchTag.trim().toLowerCase())\r\n          //  )\r\n       //  );\r\n      } catch (e) {\r\n        // Ignore abort errors\r\n      }\r\n    }, 200); // Debounce for 200ms\r\n\r\n    return () => {\r\n      controller.abort();\r\n      clearTimeout(timeout);\r\n    };\r\n    // eslint-disable-next-line\r\n  }, [searchTag]);\r\n\r\n  // Save bookmarks to localStorage whenever they change\r\n  useEffect(() => {\r\n    // Only save if not on the bookmarks page to avoid overwriting with filtered posts\r\n    if (page !== \"bookmarks\") {\r\n      localStorage.setItem(\"spaceanon_bookmarks\", JSON.stringify(bookmarkedPosts));\r\n    }\r\n  }, [bookmarkedPosts, page]);\r\n\r\n  // Load bookmarks from localStorage on mount (only once)\r\n  useEffect(() => {\r\n    const saved = localStorage.getItem(\"spaceanon_bookmarks\");\r\n    if (saved) {\r\n      try {\r\n        setBookmarkedPosts(JSON.parse(saved));\r\n      } catch {}\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  // Fetch paginated comments for a post\r\n  const fetchComments = async (postId) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/api/comments/${postId}`);\r\n      const data = response.data || [];\r\n      setComments((prev) => ({ ...prev, [postId]: data }));\r\n    } catch (error) {\r\n      console.error(\"Error fetching comments:\", error);\r\n    }\r\n  };\r\n\r\n  // Load more comments for a post\r\n  \r\n  // Like/unlike a comment\r\n  const handleLikeComment = async (commentId, postId) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/comments/${commentId}/like`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ userId }),\r\n      });\r\n      if (response.ok) {\r\n        fetchComments(postId); // Refresh comments for real-time update\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error liking comment:\", error);\r\n    }\r\n  };\r\n\r\n  // Toggle comments section\r\n  const toggleComments = (postId) => {\r\n    setShowComments((prev) => ({ ...prev, [postId]: !prev[postId] }));\r\n    if (!showComments[postId]) fetchComments(postId);\r\n  };\r\n\r\n  // Delete a comment or reply (and its children)\r\n  const handleDeleteComment = async (commentId, postId) => {\r\n    try {\r\n      await axios.delete(`http://localhost:5000/api/comments/${commentId}`);\r\n      // Wait a moment to ensure backend deletes all children before refetching\r\n      setTimeout(() => fetchComments(postId), 200);\r\n    } catch (error) {\r\n      console.error(\"Error deleting comment:\", error);\r\n    }\r\n  };\r\n\r\n  // Recursive render for nested comments (unlimited depth)\r\n  const renderComments = (commentsArr, postId) => {\r\n    if (!commentsArr) return null;\r\n    return commentsArr.map((comment) => {\r\n      const cid = comment.id ?? comment._id;\r\n      return (\r\n        <div\r\n          key={cid}\r\n          style={{\r\n            marginBottom: 10,\r\n            marginLeft: comment.parent_id ? 24 : 0,\r\n            borderLeft: comment.parent_id ? \"2px solid #23264A\" : \"none\",\r\n            paddingLeft: comment.parent_id ? 12 : 0,\r\n          }}\r\n        >\r\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n            <span style={{ fontWeight: 500, color: \"#E63946\" }}>{comment.userid}</span>\r\n            <span style={{ marginLeft: 8, color: \"#fff\" }}>{comment.content}</span>\r\n            <button\r\n              onClick={() => handleLikeComment(cid, postId)}\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: (comment.likes || []).includes(userId) ? \"#E63946\" : \"#C4C4C4\",\r\n                marginLeft: 12,\r\n                cursor: \"pointer\",\r\n                fontSize: \"1.1em\"\r\n              }}\r\n            >\r\n              <FaHeart />\r\n              <span style={{ marginLeft: 4, fontWeight: 500 }}>{(comment.likes || []).length}</span>\r\n            </button>\r\n            <button\r\n              onClick={() => setReplyBox((prev) => ({ ...prev, [cid]: !prev[cid] }))}\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"#A362EA\",\r\n                marginLeft: 8,\r\n                cursor: \"pointer\",\r\n                fontSize: \"1em\"\r\n              }}\r\n            >\r\n              Reply\r\n            </button>\r\n            <button\r\n              onClick={() => handleDeleteComment(cid, postId)}\r\n              style={{\r\n                background: \"none\",\r\n                border: \"none\",\r\n                color: \"#F48C8C\",\r\n                marginLeft: 8,\r\n                cursor: \"pointer\",\r\n                fontSize: \"1em\"\r\n              }}\r\n              aria-label=\"Delete comment\"\r\n            >\r\n              <FaTrash />\r\n            </button>\r\n          </div>\r\n          {replyBox[cid] && (\r\n            <div style={{ marginTop: 6, display: \"flex\", gap: 6 }}>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Write a reply...\"\r\n                value={newComment[cid] || \"\"}\r\n                onChange={(e) => setNewComment((prev) => ({ ...prev, [cid]: e.target.value }))}\r\n                style={{\r\n                  flex: 1,\r\n                  padding: \"6px 10px\",\r\n                  borderRadius: 8,\r\n                  border: \"1px solid #333\",\r\n                  background: \"#23264A\",\r\n                  color: \"#fff\",\r\n                }}\r\n              />\r\n              <button\r\n                onClick={async () => {\r\n                  await handleAddComment(postId, cid);\r\n                  setReplyBox((prev) => ({ ...prev, [cid]: false }));\r\n                  setNewComment((prev) => ({ ...prev, [cid]: \"\" }));\r\n                }}\r\n                style={{\r\n                  padding: \"6px 14px\",\r\n                  borderRadius: 8,\r\n                  border: \"none\",\r\n                  cursor: \"pointer\",\r\n                  background: \"#A362EA\",\r\n                  color: \"#fff\",\r\n                  fontWeight: 500,\r\n                  transition: \"background 0.2s\",\r\n                }}\r\n              >\r\n                Reply\r\n              </button>\r\n            </div>\r\n          )}\r\n          {/* Render replies recursively */}\r\n          {renderComments(comment.replies, postId)}\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const handleAddComment = async (postId, parentId = null) => {\r\n    const key = parentId || postId;\r\n    const content = newComment[key];\r\n    if (!content?.trim()) return;\r\n    try {\r\n      await axios.post(\"http://localhost:5000/api/comments\", {\r\n        postid: postId,\r\n        userid: userId,\r\n        content,\r\n        parent_id: parentId,\r\n      });\r\n      setNewComment((prev) => ({ ...prev, [key]: \"\" }));\r\n      setReplyBox((prev) => ({ ...prev, [parentId]: false }));\r\n      fetchComments(postId); // Refresh comments for real-time update\r\n    } catch (error) {\r\n      console.error(\"Error adding comment:\", error);\r\n    }\r\n  };\r\n\r\n  // Poll notifications every 10 seconds\r\n  useEffect(() => {\r\n    let interval;\r\n    const fetchNotifications = async () => {\r\n      try {\r\n        const res = await fetch(`http://localhost:5000/api/notifications/${userId}`);\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          setNotifications(data);\r\n          setUnreadCount(data.length); // Simple: all are unread (for demo)\r\n        }\r\n      } catch (e) {\r\n        // ignore\r\n      }\r\n    };\r\n    fetchNotifications();\r\n    interval = setInterval(fetchNotifications, 10000);\r\n    return () => clearInterval(interval);\r\n  }, [userId]);\r\n\r\n  return (\r\n    <div className={`dashboard-container${sidebarCollapsed ? \" collapsed\" : \"\"}`}>\r\n      <aside className=\"dashboard-sidebar\">\r\n        <div className=\"dashboard-logo-row\">\r\n          <button\r\n            className=\"dashboard-toggle-btn\"\r\n            onClick={() => setSidebarCollapsed((c) => !c)}\r\n            aria-label=\"Toggle sidebar\"\r\n          >\r\n            <FaMoon />\r\n          </button>\r\n          {!sidebarCollapsed && (\r\n            <>\r\n              <span className=\"dashboard-logo-icon\"><FaMoon /></span>\r\n              <span className=\"dashboard-logo-text\">Space Anon</span>\r\n            </>\r\n          )}\r\n        </div>\r\n        <nav className=\"dashboard-nav\">\r\n          <button\r\n            type=\"button\"\r\n            className={`dashboard-nav-btn${page === \"home\" ? \" active\" : \"\"}`}\r\n            onClick={() => setPage(\"home\")}\r\n            aria-current={page === \"home\" ? \"page\" : undefined}\r\n            style={page === \"home\" ? { background: \"#A362EA\", color: \"#fff\" } : {}}\r\n          >\r\n            <FaHome />\r\n            {!sidebarCollapsed && <span>Home</span>}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className={`dashboard-nav-btn${page === \"dashboard\" ? \" active\" : \"\"}`}\r\n            onClick={() => setPage(\"dashboard\")}\r\n            aria-current={page === \"dashboard\" ? \"page\" : undefined}\r\n            style={page === \"dashboard\" ? { background: \"#A362EA\", color: \"#fff\" } : {}}\r\n          >\r\n            <FaUser />\r\n            {!sidebarCollapsed && <span>My Posts</span>}\r\n          </button>\r\n          {/* Remove the bookmarks button from the dashboard */}\r\n          {/* \r\n          <button\r\n            type=\"button\"\r\n            className={`dashboard-nav-btn${page === \"bookmarks\" ? \" active\" : \"\"}`}\r\n            onClick={() => setPage(\"bookmarks\")}\r\n            aria-current={page === \"bookmarks\" ? \"page\" : undefined}\r\n            style={page === \"bookmarks\" ? { background: \"#A362EA\", color: \"#fff\" } : {}}\r\n          >\r\n            <FaBookmark />\r\n            {!sidebarCollapsed && <span>Bookmarks</span>}\r\n          </button>\r\n          */}\r\n        </nav>\r\n        {/* Removed user/profile section and dashboard things */}\r\n      </aside>\r\n      <main className=\"dashboard-main\">\r\n        {/* Always visible search bar at the top of main content, on home and my posts */}\r\n        {(page === \"home\" || page === \"dashboard\") && (\r\n          <form className=\"dashboard-main-search-bar sticky-search-bar\" onSubmit={handleCombinedSearch}>\r\n            <FaSearch className=\"search-icon-btn\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search posts or tags\"\r\n              value={searchTag}\r\n              onChange={(e) => setSearchTag(e.target.value)}\r\n              className=\"tag-search-input\"\r\n              autoFocus\r\n            />\r\n            <button type=\"submit\" className=\"tag-search-btn\">Search</button>\r\n          </form>\r\n        )}\r\n        <button className=\"add-post-btn\" onClick={() => setShowAddPostModal(true)}>\r\n          Add Post\r\n        </button>\r\n        {/* Tag & post search results */}\r\n        {searchTag.trim() && (\r\n          <div\r\n            className=\"feed search-results\"\r\n            style={{\r\n              width: \"550px\",\r\n              maxWidth: \"550px\",\r\n              minWidth: \"550px\",\r\n              margin: \"0 auto\",\r\n            }}\r\n          >\r\n            {searchLoading ? (\r\n              <p className=\"search-loading\">Searching...</p>\r\n            ) : searchResults.length > 0 ? (\r\n              <>\r\n                <h2 style={{ color: \"#A362EA\", margin: \"0 0 12px 0\" }}>\r\n                  Results for: {searchTag}\r\n                </h2>\r\n                {searchResults.map((post, idx) => {\r\n                  const id = post.id ?? post._id ?? idx;\r\n                  const expanded = expandedPosts[id];\r\n                  const content = post.content || \"\";\r\n                //  const liked = likesArr.includes(userId);\r\n                  return (\r\n                    <div\r\n                      className={`post${expanded ? \" expanded\" : \"\"}`}\r\n                      key={id}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        maxWidth: 780,\r\n                        minWidth: 780,\r\n                        margin: \"0 auto\",\r\n                        minHeight: 120,\r\n                        maxHeight: expanded ? \"none\" : 220,\r\n                        overflow: expanded ? \"visible\" : \"hidden\",\r\n                        textAlign: \"left\",\r\n                        display: \"flex\",\r\n                        flexDirection: \"column\",\r\n                        alignItems: \"flex-start\",\r\n                        background: \"#181C3A\",\r\n                      }}\r\n                    >\r\n                      <h3 style={{ textAlign: \"left\", margin: \"0 0 8px 0\" }}>{post.title}</h3>\r\n                      <p\r\n                        style={{\r\n                          ...(expanded\r\n                            ? { display: \"block\", overflow: \"visible\", WebkitLineClamp: \"unset\", maxHeight: \"none\" }\r\n                            : {\r\n                                display: \"-webkit-box\",\r\n                                WebkitBoxOrient: \"vertical\",\r\n                                WebkitLineClamp: 8,\r\n                                overflow: \"hidden\",\r\n                                maxHeight: \"12em\"\r\n                              }),\r\n                          textAlign: \"left\",\r\n                          marginBottom: 0,\r\n                          width: \"100%\",\r\n                          wordBreak: \"break-word\",\r\n                        }}\r\n                      >\r\n                        {content}\r\n                      </p>\r\n                      {content.split(/\\s+/).length > 60 && (\r\n                        <span\r\n                          className=\"show-more-less\"\r\n                          style={{ color: \"#A362EA\", cursor: \"pointer\", marginLeft: 8, fontWeight: 500 }}\r\n                          onClick={() =>\r\n                            setExpandedPosts((prev) => ({\r\n                              ...prev,\r\n                              [id]: !prev[id],\r\n                            }))\r\n                          }\r\n                        >\r\n                          {expanded ? \" Show less\" : \" Show more\"}\r\n                        </span>\r\n                      )}\r\n                      <div className=\"post-tags\" style={{ textAlign: \"left\", marginTop: 8 }}>\r\n                        {post.tags && post.tags.map((tag, i) => (\r\n                          <span className=\"post-tag\" key={i}>#{tag}</span>\r\n                        ))}\r\n                      </div>\r\n                      <div\r\n                        className=\"post-actions\"\r\n                        style={{\r\n                          marginTop: 12,\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          gap: 18,\r\n                          width: \"100%\",\r\n                        }}\r\n                      >\r\n                        <button\r\n                          className=\"post-like-btn\"\r\n                          onClick={() => handleLikePost(id)}\r\n                          aria-label=\"Like post\"\r\n                          style={{\r\n                            background: \"#23264A\",\r\n                            border: \"none\",\r\n                            cursor: \"pointer\",\r\n                            color: Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#C4C4C4\",\r\n                            fontSize: \"1.2rem\",\r\n                            borderRadius: \"50%\",\r\n                            padding: \"6px 12px\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            transition: \"color 0.2s, background 0.2s\",\r\n                          }}\r\n                        >\r\n                          <FaHeart\r\n                            color={Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#C4C4C4\"}\r\n                            style={{ marginRight: 6 }}\r\n                          />\r\n                          <span style={{\r\n                            color: \"#C4C4C4\",\r\n                            fontWeight: 500,\r\n                            fontSize: \"1.05rem\",\r\n                            marginLeft: 2,\r\n                            minWidth: 18,\r\n                            display: \"inline-block\"\r\n                          }}>\r\n                            {Array.isArray(post.likes) ? post.likes.length : 0}\r\n                          </span>\r\n                        </button>\r\n                        <button\r\n                          className=\"post-delete-btn\"\r\n                          onClick={() => handleDeleteClick(id)}\r\n                          aria-label=\"Delete post\"\r\n                          style={{\r\n                            background: \"#23264A\",\r\n                            border: \"none\",\r\n                            cursor: \"pointer\",\r\n                            color: \"#F48C8C\",\r\n                            fontSize: \"1.2rem\",\r\n                            borderRadius: \"50%\",\r\n                            padding: \"6px 12px\",\r\n                            marginLeft: \"auto\",\r\n                            transition: \"color 0.2s, background 0.2s\"\r\n                          }}\r\n                        >\r\n                          <FaTrash color=\"#F48C8C\" />\r\n                        </button>\r\n                      </div>\r\n                      {/* Comments section - hidden by default */}\r\n                      <div className=\"post-comments-section\" style={{ marginTop: 16, width: \"100%\" }}>\r\n                        <button\r\n                          className=\"toggle-comments-btn\"\r\n                          onClick={() => toggleComments(id)}\r\n                          style={{\r\n                            background: \"none\",\r\n                            border: \"none\",\r\n                            cursor: \"pointer\",\r\n                            color: \"#A362EA\",\r\n                            fontSize: \"1rem\",\r\n                            padding: 0,\r\n                            margin: \"0 0 12px 0\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            gap: 8,\r\n                          }}\r\n                        >\r\n                          {showComments[id] ? \"▲\" : \"▼\"} Comments\r\n                        </button>\r\n                        {showComments[id] && (\r\n                          <div className=\"comments-container\" style={{ width: \"100%\", paddingLeft: 24 }}>\r\n                            {/* Comments list */}\r\n                            <div className=\"comments-list\" style={{ maxHeight: 200, overflowY: \"auto\", marginBottom: 12 }}>\r\n                              {renderComments(comments[id] || [], id)}\r\n                            </div>\r\n                            {/* New comment form */}\r\n                            <div className=\"new-comment-form\" style={{ display: \"flex\", gap: 8 }}>\r\n                              <input\r\n                                type=\"text\"\r\n                                placeholder=\"Add a comment...\"\r\n                                value={newComment[id] || \"\"}\r\n                                onChange={(e) => setNewComment((prev) => ({ ...prev, [id]: e.target.value }))}\r\n                                style={{\r\n                                  flex: 1,\r\n                                  padding: \"8px 12px\",\r\n                                  borderRadius: 8,\r\n                                  border: \"1px solid #333\",\r\n                                  background: \"#23264A\",\r\n                                  color: \"#fff\",\r\n                                }}\r\n                              />\r\n                              <button\r\n                                className=\"add-comment-btn\"\r\n                                onClick={() => handleAddComment(id)}\r\n                                style={{\r\n                                  padding: \"8px 16px\",\r\n                                  borderRadius: 8,\r\n                                  border: \"none\",\r\n                                  cursor: \"pointer\",\r\n                                  background: \"#A362EA\",\r\n                                  color: \"#fff\",\r\n                                  fontWeight: 500,\r\n                                  transition: \"background 0.2s\",\r\n                                }}\r\n                              >\r\n                                Add\r\n                              </button>\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </>\r\n            ) : (\r\n              <p>No results found for \"{searchTag}\".</p>\r\n            )}\r\n          </div>\r\n        )}\r\n        {/* Main feed: show posts, related results, or a message */}\r\n        <div\r\n          className=\"feed feed-scrollable\"\r\n          style={{\r\n            width: \"550px\",\r\n            maxWidth: \"550px\",\r\n            minWidth: \"550px\",\r\n            margin: \"0 auto\",\r\n          }}\r\n        >\r\n          {postsToShow.length > 0 ? (\r\n            postsToShow.map((post, idx) => {\r\n              const id = post.id ?? post._id ?? idx;\r\n            //  const isBookmarked = bookmarkedPosts.some((b) => (b.id ?? b._id) === id);\r\n              const expanded = expandedPosts[id];\r\n              const content = post.content || \"\";\r\n              // Always show all text if expanded, otherwise clamp to 10 lines\r\n              return (\r\n                <div\r\n                  className={`post${expanded ? \" expanded\" : \"\"}`}\r\n                  key={id}\r\n                  style={{\r\n                    width: \"100%\",\r\n                    maxWidth: 530,\r\n                    minWidth: 530,\r\n                    margin: \"0 auto\",\r\n                    wordBreak: \"break-word\",\r\n                    whiteSpace: \"normal\",\r\n                  }}\r\n                >\r\n                  <h3\r\n                    style={{\r\n                      wordBreak: \"break-word\",\r\n                      whiteSpace: \"normal\",\r\n                      margin: 0,\r\n                      padding: 0,\r\n                    }}\r\n                  >\r\n                    {post.title}\r\n                  </h3>\r\n                  <p\r\n                    style={{\r\n                      ...(expanded\r\n                        ? { display: \"block\", overflow: \"visible\", WebkitLineClamp: \"unset\", maxHeight: \"none\" }\r\n                        : {\r\n                            display: \"-webkit-box\",\r\n                            WebkitBoxOrient: \"vertical\",\r\n                            WebkitLineClamp: 10,\r\n                            overflow: \"hidden\",\r\n                            maxHeight: \"18em\"\r\n                          }),\r\n                      textAlign: \"left\",\r\n                      marginBottom: 0,\r\n                      width: \"100%\",\r\n                      wordBreak: \"break-word\",\r\n                      whiteSpace: \"pre-line\", // Allow line breaks and wrapping\r\n                    }}\r\n                  >\r\n                    {content}\r\n                  </p>\r\n                  {content.split(/\\s+/).length > 60 && (\r\n                    <span\r\n                      className=\"show-more-less\"\r\n                      style={{ color: \"#A362EA\", cursor: \"pointer\", marginLeft: 8, fontWeight: 500 }}\r\n                      onClick={() => setExpandedPosts((prev) => ({\r\n                        ...prev,\r\n                        [id]: !prev[id],\r\n                      }))}\r\n                    >\r\n                      {expanded ? \" Show less\" : \" Show more\"}\r\n                    </span>\r\n                  )}\r\n                  <div className=\"post-tags\">\r\n                    {post.tags && post.tags.map((tag, i) => (\r\n                      <span className=\"post-tag\" key={i}>#{tag}</span>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"post-actions\">\r\n                    <button\r\n                      className=\"post-like-btn\"\r\n                      onClick={() => handleLikePost(id)}\r\n                      aria-label=\"Like post\"\r\n                    >\r\n                      <FaHeart color={Array.isArray(post.likes) && post.likes.includes(userId) ? \"#E63946\" : \"#ccc\"} />\r\n                      <span style={{ marginLeft: 6, color: \"#C4C4C4\", fontWeight: 500 }}>\r\n                        {Array.isArray(post.likes) ? post.likes.length : 0}\r\n                      </span>\r\n                    </button>\r\n                    <button\r\n                      className=\"post-delete-btn\"\r\n                      onClick={() => handleDeleteClick(id)}\r\n                      aria-label=\"Delete post\"\r\n                    >\r\n                      <FaTrash color=\"#ccc\" />\r\n                    </button>\r\n                  </div>\r\n                  {/* Comments section - hidden by default */}\r\n                  <div className=\"post-comments-section\" style={{ marginTop: 16, width: \"100%\" }}>\r\n                    <button\r\n                      className=\"toggle-comments-btn\"\r\n                      onClick={() => toggleComments(id)}\r\n                      style={{\r\n                        background: \"none\",\r\n                        border: \"none\",\r\n                        cursor: \"pointer\",\r\n                        color: \"#A362EA\",\r\n                        fontSize: \"1rem\",\r\n                        padding: 0,\r\n                        margin: \"0 0 12px 0\",\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        gap: 8,\r\n                      }}\r\n                    >\r\n                      {showComments[id] ? \"▲\" : \"▼\"} Comments\r\n                    </button>\r\n                    {showComments[id] && (\r\n                      <div className=\"comments-container\" style={{ width: \"100%\", paddingLeft: 24 }}>\r\n                        {/* Comments list */}\r\n                        <div className=\"comments-list\" style={{ maxHeight: 200, overflowY: \"auto\", marginBottom: 12 }}>\r\n                          {renderComments(comments[id] || [], id)}\r\n                        </div>\r\n                        {/* New comment form */}\r\n                        <div className=\"new-comment-form\" style={{ display: \"flex\", gap: 8 }}>\r\n                          <input\r\n                            type=\"text\"\r\n                            placeholder=\"Add a comment...\"\r\n                            value={newComment[id] || \"\"}\r\n                            onChange={(e) => setNewComment((prev) => ({ ...prev, [id]: e.target.value }))}\r\n                            style={{\r\n                              flex: 1,\r\n                              padding: \"8px 12px\",\r\n                              borderRadius: 8,\r\n                              border: \"1px solid #333\",\r\n                              background: \"#23264A\",\r\n                              color: \"#fff\",\r\n                            }}\r\n                          />\r\n                          <button\r\n                            className=\"add-comment-btn\"\r\n                            onClick={() => handleAddComment(id)}\r\n                            style={{\r\n                              padding: \"8px 16px\",\r\n                              borderRadius: 8,\r\n                              border: \"none\",\r\n                              cursor: \"pointer\",\r\n                              background: \"#A362EA\",\r\n                              color: \"#fff\",\r\n                              fontWeight: 500,\r\n                              transition: \"background 0.2s\",\r\n                            }}\r\n                          >\r\n                            Add\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <p style={{ textAlign: \"center\", color: \"#666\", padding: \"32px 0\" }}>\r\n              {page === \"home\" && \"Welcome to Space Anon! Share your thoughts with the world.\"}\r\n              {page === \"dashboard\" && \"You haven't created any posts yet.\"}\r\n              {page === \"bookmarks\" && \"No bookmarks yet. Find something interesting and bookmark it!\"}\r\n            </p>\r\n          )}\r\n        </div>\r\n        {/* Add Post modal - always at the end of the main content */}\r\n        {showAddPostModal && (\r\n          <div className=\"add-post-modal\">\r\n            <div className=\"add-post-modal-content\">\r\n              <h2>Create a New Post</h2>\r\n              {error && <p className=\"error-message\">{error}</p>}\r\n              <div className=\"add-post-form-group\">\r\n                <label htmlFor=\"post-title\">\r\n                  Title <span style={{ color: \"#F48C8C\" }}>*</span>\r\n                </label>\r\n                <input\r\n                  id=\"post-title\"\r\n                  type=\"text\"\r\n                  value={newPost.title}\r\n                  onChange={(e) => setNewPost({ ...newPost, title: e.target.value })}\r\n                  placeholder=\"Enter post title\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"add-post-form-group\">\r\n                <label htmlFor=\"post-content\">\r\n                  Content <span style={{ color: \"#F48C8C\" }}>*</span>\r\n                </label>\r\n                <textarea\r\n                  id=\"post-content\"\r\n                  value={newPost.content}\r\n                  onChange={(e) => setNewPost({ ...newPost, content: e.target.value })}\r\n                  placeholder=\"What's on your mind?\"\r\n                  rows={8} // Make content space bigger\r\n                  required\r\n                  style={{ minHeight: 140, height: 180, maxHeight: 320 }}\r\n                />\r\n              </div>\r\n              <div className=\"add-post-form-group\">\r\n                <label htmlFor=\"post-tags\">\r\n                  Tags <span style={{ color: \"#C4C4C4\", fontWeight: 400 }}>(optional)</span>\r\n                </label>\r\n                <input\r\n                  id=\"post-tags\"\r\n                  type=\"text\"\r\n                  value={newPost.tags}\r\n                  onChange={(e) => setNewPost({ ...newPost, tags: e.target.value })}\r\n                  placeholder=\"e.g. thoughts, advice, vent (comma separated)\"\r\n                />\r\n              </div>\r\n              <div className=\"add-post-modal-actions\">\r\n                <button className=\"add-post-submit\" onClick={handlePostSubmit}>\r\n                  Submit\r\n                </button>\r\n                <button className=\"add-post-cancel\" onClick={() => setShowAddPostModal(false)}>\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {/* Delete confirmation warning - always at the end */}\r\n        {showDeleteWarning && (\r\n          <div className=\"delete-warning-modal\">\r\n            <div className=\"delete-warning-content\" style={{\r\n              background: \"#181C3A\",\r\n              borderRadius: 14,\r\n              padding: \"38px 32px 28px 32px\",\r\n              boxShadow: \"0 4px 32px rgba(244,140,140,0.18)\",\r\n              color: \"#fff\",\r\n              minWidth: 320,\r\n              maxWidth: \"90vw\",\r\n              textAlign: \"center\",\r\n              position: \"relative\",\r\n              border: \"2px solid #A362EA\"\r\n            }}>\r\n              <h2 style={{ color: \"#F48C8C\" }}>Confirm Delete</h2>\r\n              <p style={{ color: \"#fff\" }}>Are you sure you want to delete this post? This action cannot be undone.</p>\r\n              <div className=\"delete-warning-actions\" style={{ display: \"flex\", justifyContent: \"center\", gap: 18 }}>\r\n                <button\r\n                  className=\"delete-warning-confirm\"\r\n                  onClick={handleConfirmDelete}\r\n                  style={{\r\n                    padding: \"10px 28px\",\r\n                    borderRadius: 8,\r\n                    border: \"none\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: 600,\r\n                    cursor: \"pointer\",\r\n                    background: \"#F48C8C\",\r\n                    color: \"#fff\",\r\n                    transition: \"background 0.2s, color 0.2s\"\r\n                  }}\r\n                >\r\n                  Yes, delete it\r\n                </button>\r\n                <button\r\n                  className=\"delete-warning-cancel\"\r\n                  onClick={handleCancelDelete}\r\n                  style={{\r\n                    padding: \"10px 28px\",\r\n                    borderRadius: 8,\r\n                    border: \"none\",\r\n                    fontSize: \"1rem\",\r\n                    fontWeight: 600,\r\n                    cursor: \"pointer\",\r\n                    background: \"#23264A\",\r\n                    color: \"#fff\",\r\n                    transition: \"background 0.2s, color 0.2s\"\r\n                  }}\r\n                >\r\n                  No, keep it\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div style={{ position: \"relative\", display: \"inline-block\", margin: \"16px 0 0 16px\" }}>\r\n          <button\r\n            onClick={() => setShowNotifications((v) => !v)}\r\n            style={{\r\n              background: \"none\",\r\n              border: \"none\",\r\n              cursor: \"pointer\",\r\n              position: \"relative\",\r\n              fontSize: \"1.6em\",\r\n              color: \"#A362EA\"\r\n            }}\r\n            aria-label=\"Show notifications\"\r\n          >\r\n            <FaBell />\r\n            {unreadCount > 0 && (\r\n              <span style={{\r\n                position: \"absolute\",\r\n                top: -6,\r\n                right: -6,\r\n                background: \"#E63946\",\r\n                color: \"#fff\",\r\n                borderRadius: \"50%\",\r\n                fontSize: \"0.8em\",\r\n                padding: \"2px 6px\",\r\n                fontWeight: 700,\r\n                minWidth: 18,\r\n                textAlign: \"center\"\r\n              }}>\r\n                {unreadCount}\r\n              </span>\r\n            )}\r\n          </button>\r\n          {showNotifications && (\r\n            <div style={{\r\n              position: \"absolute\",\r\n              top: 32,\r\n              left: 0,\r\n              background: \"#23264A\",\r\n              color: \"#fff\",\r\n              borderRadius: 8,\r\n              boxShadow: \"0 4px 16px rgba(0,0,0,0.18)\",\r\n              minWidth: 260,\r\n              zIndex: 100,\r\n              maxHeight: 320,\r\n              overflowY: \"auto\"\r\n            }}>\r\n              <div style={{ padding: \"10px 16px\", borderBottom: \"1px solid #444\", fontWeight: 600 }}>\r\n                Notifications\r\n              </div>\r\n              {notifications.length === 0 ? (\r\n                <div style={{ padding: 16, color: \"#aaa\" }}>No notifications</div>\r\n              ) : (\r\n                notifications.map((n) => (\r\n                  <div key={n.id} style={{ padding: \"10px 16px\", borderBottom: \"1px solid #333\" }}>\r\n                    {n.type === \"reply\" ? \"Someone replied to your comment\" : \"Someone commented on your post\"}\r\n                    <div style={{ fontSize: \"0.95em\", color: \"#A362EA\", marginTop: 2 }}>\r\n                      Post #{n.post_id} • Comment #{n.comment_id}\r\n                    </div>\r\n                    <div style={{ fontSize: \"0.8em\", color: \"#888\" }}>\r\n                      {new Date(n.created_at).toLocaleString()}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n    </div>\r\n  ); \r\n}\r\n\r\nexport default Feed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}